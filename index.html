<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover, shrink-to-fit=no">
    <title>üí™ Treinos Marcelo - 7 Tipos</title>
    <meta name="description" content="App completo de treinos com controle de peso e edi√ß√£o - v2.0 Advanced">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#1a1a1a">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: #ffffff;
            min-height: 100vh;
            padding: 10px;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            touch-action: manipulation;
        }

        .header {
            text-align: center;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #ff6b6b, #ffd93d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .btn-config {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            color: white;
            cursor: pointer;
            font-size: 1.2em;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .btn-config:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: rotate(90deg);
        }

        .tipo-selector {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-bottom: 20px;
            position: relative;
        }

        .tipo-btn {
            padding: 12px 20px;
            border: none;
            border-radius: 25px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        .tipo-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .tipo-btn.active {
            background: linear-gradient(45deg, #ff6b6b, #ffd93d);
            color: #000;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
        }

        .tipo-btn-container {
            position: relative;
            display: inline-block;
        }

        .btn-edit-tipo {
            position: absolute;
            top: -8px;
            right: -8px;
            width: 24px;
            height: 24px;
            border: none;
            border-radius: 50%;
            background: rgba(255, 193, 7, 0.9);
            color: #000;
            cursor: pointer;
            font-size: 0.7em;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(255, 193, 7, 0.4);
        }

        .btn-edit-tipo:hover {
            background: rgba(255, 193, 7, 1);
            transform: scale(1.1);
        }

        .treinos-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .treino-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .treino-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
        }

        .treino-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .treino-letra {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2em;
            margin-right: 15px;
        }

        .treino-a .treino-letra { background: linear-gradient(45deg, #ff6b6b, #ff8e8e); }
        .treino-b .treino-letra { background: linear-gradient(45deg, #4ecdc4, #7fdbda); }
        .treino-c .treino-letra { background: linear-gradient(45deg, #45b7d1, #78d1f0); }
        .treino-d .treino-letra { background: linear-gradient(45deg, #ffd93d, #ffe66d); }
        .treino-e .treino-letra { background: linear-gradient(45deg, #a8e6cf, #c1f0d8); }

        .treino-info h3 {
            font-size: 1.1em;
            margin-bottom: 5px;
        }

        .treino-info p {
            color: #ccc;
            font-size: 0.9em;
        }

        .treino-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .btn-iniciar {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            background: linear-gradient(45deg, #ff6b6b, #ffd93d);
            color: #000;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        .btn-iniciar:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
        }

        .btn-edit {
            padding: 12px 16px;
            border: none;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        .btn-edit:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }

        /* Modal para execu√ß√£o do treino */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
        }

        .modal-content {
            background: rgba(26, 26, 26, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 30px;
            max-width: 500px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .modal-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .modal-header h2 {
            margin-bottom: 10px;
            background: linear-gradient(45deg, #ff6b6b, #ffd93d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .exercicio-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .exercicio-item.concluido {
            background: rgba(76, 175, 80, 0.3);
            border: 1px solid rgba(76, 175, 80, 0.5);
        }

        .exercicio-info {
            flex: 1;
        }

        .exercicio-nome {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .exercicio-controls {
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .peso-input {
            width: 70px;
            padding: 8px;
            border: none;
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            text-align: center;
        }

        .series-input, .reps-input {
            width: 50px;
            padding: 8px;
            border: none;
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            text-align: center;
            font-size: 0.9em;
        }

        .exercicio-notas {
            width: 100%;
            margin-top: 8px;
            padding: 6px;
            border: none;
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 0.8em;
            resize: none;
            height: 30px;
        }

        .exercicio-notas::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .timer-container {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(26, 26, 26, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            z-index: 1500;
            border: 1px solid rgba(255, 255, 255, 0.2);
            min-width: 250px;
        }

        .timer-display {
            font-size: 3em;
            font-weight: bold;
            background: linear-gradient(45deg, #ff6b6b, #ffd93d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 20px;
        }

        .timer-controls {
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .btn-timer {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .btn-timer:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }

        .btn-timer.primary {
            background: linear-gradient(45deg, #4caf50, #8bc34a);
        }

        .btn-timer.danger {
            background: linear-gradient(45deg, #f44336, #ff7043);
        }

        .peso-input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .btn-concluir {
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            background: rgba(76, 175, 80, 0.7);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-concluir:hover {
            background: rgba(76, 175, 80, 1);
        }

        .btn-concluir.concluido {
            background: rgba(255, 193, 7, 0.7);
        }

        .btn-concluir.concluido:hover {
            background: rgba(255, 193, 7, 1);
        }

        .modal-footer {
            text-align: center;
            margin-top: 25px;
        }

        .btn-fechar {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-fechar:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* Modal de edi√ß√£o */
        .modal-edicao {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1001;
            padding: 20px;
        }

        .modal-edicao .modal-content {
            max-width: 600px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #ffd93d;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 16px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .form-group input::placeholder,
        .form-group textarea::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .exercicios-lista {
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
        }

        .exercicio-edit {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
        }

        .exercicio-input {
            flex: 1;
            padding: 8px;
            border: none;
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        .btn-remove {
            background: rgba(244, 67, 54, 0.7);
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .btn-add {
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 8px;
            background: rgba(76, 175, 80, 0.7);
            color: white;
            cursor: pointer;
            margin-top: 10px;
            font-weight: bold;
        }

        .btn-add:hover {
            background: rgba(76, 175, 80, 1);
        }

        .form-actions {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }

        .btn-salvar {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            background: linear-gradient(45deg, #4caf50, #8bc34a);
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-salvar:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);
        }

        .btn-cancelar {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-cancelar:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* Notifica√ß√µes otimizadas para mobile */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            left: 20px;
            padding: 16px 20px;
            border-radius: 12px;
            color: white;
            font-weight: bold;
            z-index: 2000;
            animation: slideInMobile 0.4s ease;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
        }

        .notification.success {
            background: rgba(76, 175, 80, 0.9);
        }

        .notification.warning {
            background: rgba(255, 193, 7, 0.9);
        }

        @keyframes slideInMobile {
            from {
                transform: translateY(-100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* Anima√ß√µes suaves para intera√ß√µes */
        .treino-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            transform: translateZ(0); /* For√ßa acelera√ß√£o por hardware */
        }

        .treino-card:active {
            transform: translateY(-2px) scale(0.98);
        }

        /* Melhoria no feedback dos bot√µes */
        .tipo-btn:active {
            transform: scale(0.95);
        }

        .btn-iniciar:active {
            transform: scale(0.95);
        }

        .btn-edit:active {
            transform: scale(0.95);
        }

        .btn-concluir:active {
            transform: scale(0.95);
        }

        /* Otimiza√ß√£o espec√≠fica para Poco X7 Pro (6.67" - 1080x2400px) */
        @media (max-width: 768px) {
            body {
                padding: 6px;
                min-height: 100vh;
                overflow-x: hidden;
            }
            
            .header {
                padding: 12px 16px;
                margin-bottom: 12px;
                border-radius: 12px;
            }
            
            .header h1 { 
                font-size: 1.8em; 
                margin-bottom: 6px;
                line-height: 1.2;
            }
            
            .header p {
                font-size: 0.85em;
                opacity: 0.9;
                line-height: 1.3;
            }
            
            .btn-config {
                width: 36px;
                height: 36px;
                top: 12px;
                right: 12px;
                font-size: 1.1em;
            }
            
            .tipo-selector {
                gap: 6px;
                margin-bottom: 12px;
                padding: 0 2px;
                justify-content: flex-start;
                overflow-x: auto;
                scrollbar-width: none;
                -ms-overflow-style: none;
                padding-bottom: 4px;
            }
            
            .tipo-selector::-webkit-scrollbar {
                display: none;
            }
            
            .tipo-btn-container {
                flex-shrink: 0;
                position: relative;
            }
            
            .tipo-btn { 
                padding: 10px 14px; 
                font-size: 0.85em;
                min-width: 120px;
                white-space: nowrap;
                border-radius: 20px;
            }
            
            .btn-edit-tipo {
                width: 18px;
                height: 18px;
                font-size: 0.6em;
                top: -4px;
                right: -4px;
            }
            
            .treinos-grid { 
                grid-template-columns: 1fr;
                gap: 12px;
                max-width: 100%;
                padding: 0 2px;
            }
            
            .treino-card {
                padding: 16px;
                margin: 0;
                border-radius: 12px;
            }
            
            .treino-header {
                margin-bottom: 12px;
            }
            
            .treino-letra {
                width: 42px;
                height: 42px;
                font-size: 1em;
                margin-right: 12px;
            }
            
            .treino-info h3 {
                font-size: 1.05em;
                line-height: 1.3;
                margin-bottom: 4px;
            }
            
            .treino-info p {
                font-size: 0.8em;
                line-height: 1.2;
            }
            
            .treino-actions {
                gap: 8px;
                margin-top: 12px;
            }
            
            .btn-iniciar {
                padding: 12px;
                font-size: 0.9em;
                border-radius: 10px;
            }
            
            .btn-edit {
                padding: 12px 16px;
                font-size: 1em;
                border-radius: 10px;
            }
        }

        /* Otimiza√ß√£o espec√≠fica para Poco X7 Pro (6.67" - 1080x2400px - ~393px CSS width) */
        @media (min-width: 380px) and (max-width: 420px) and (min-height: 800px) {
            body {
                padding: 4px;
            }
            
            .header {
                padding: 10px 14px;
                margin-bottom: 10px;
            }
            
            .header h1 {
                font-size: 1.75em;
                margin-bottom: 4px;
            }
            
            .header p {
                font-size: 0.8em;
            }
            
            .btn-config {
                width: 34px;
                height: 34px;
                top: 10px;
                right: 10px;
            }
            
            .tipo-selector {
                gap: 4px;
                margin-bottom: 10px;
                padding: 0 4px 6px 4px;
                justify-content: flex-start;
                overflow-x: auto;
                scrollbar-width: none;
                -ms-overflow-style: none;
            }
            
            .tipo-selector::-webkit-scrollbar {
                display: none;
            }
            
            .tipo-btn-container {
                flex-shrink: 0;
            }
            
            .tipo-btn {
                padding: 8px 12px;
                font-size: 0.8em;
                min-width: 110px;
                white-space: nowrap;
                border-radius: 18px;
            }
            
            .btn-edit-tipo {
                width: 16px;
                height: 16px;
                font-size: 0.5em;
                top: -3px;
                right: -3px;
            }
            
            .treinos-grid {
                grid-template-columns: 1fr;
                gap: 10px;
                padding: 0 4px;
            }
            
            .treino-card {
                padding: 14px;
                border-radius: 10px;
            }
            
            .treino-letra {
                width: 38px;
                height: 38px;
                font-size: 0.95em;
                margin-right: 10px;
            }
            
            .treino-info h3 {
                font-size: 1em;
                line-height: 1.2;
            }
            
            .treino-info p {
                font-size: 0.75em;
            }
            
            .btn-iniciar {
                padding: 10px;
                font-size: 0.85em;
            }
            
            .btn-edit {
                padding: 10px 14px;
                font-size: 0.9em;
            }
        }

        /* Modal responsivo otimizado para Poco X7 Pro */
        @media (max-width: 768px) {
            .modal-overlay {
                padding: 8px;
                align-items: flex-start;
                padding-top: 15px;
            }
            
            .modal-content { 
                padding: 16px;
                margin: 0;
                width: 100%;
                max-width: 100%;
                max-height: calc(100vh - 30px);
                border-radius: 12px;
            }
            
            .modal-header h2 {
                font-size: 1.3em;
                margin-bottom: 6px;
            }
            
            .modal-header p {
                font-size: 0.85em;
            }
            
            .exercicio-item {
                padding: 12px;
                margin-bottom: 10px;
                border-radius: 8px;
            }
            
            .exercicio-nome {
                font-size: 0.9em;
                line-height: 1.3;
                margin-bottom: 6px;
            }
            
            .exercicio-controls {
                gap: 6px;
                flex-wrap: wrap;
                align-items: center;
            }
            
            .peso-input, .series-input, .reps-input {
                padding: 8px 6px;
                font-size: 16px; /* Evita zoom no iOS */
                border-radius: 6px;
            }
            
            .peso-input {
                width: 60px;
            }
            
            .series-input, .reps-input {
                width: 40px;
            }
            
            .exercicio-notas {
                padding: 6px;
                font-size: 14px;
                height: 28px;
                margin-top: 6px;
                border-radius: 6px;
            }
            
            .btn-timer {
                padding: 6px 8px;
                font-size: 0.9em;
                border-radius: 6px;
            }
            
            .btn-concluir {
                padding: 8px 10px;
                font-size: 0.85em;
                white-space: nowrap;
                border-radius: 6px;
            }
            
            .timer-container {
                padding: 16px;
                min-width: 180px;
                border-radius: 16px;
            }
            
            .timer-display {
                font-size: 2.2em;
                margin-bottom: 12px;
            }
            
            .timer-controls {
                gap: 8px;
            }
            
            .btn-timer {
                padding: 8px 12px;
                font-size: 0.85em;
                border-radius: 8px;
            }
            
            .form-group {
                margin-bottom: 14px;
            }
            
            .form-group label {
                margin-bottom: 6px;
                font-size: 0.9em;
            }
            
            .form-group input,
            .form-group textarea,
            .form-group select {
                padding: 12px;
                font-size: 16px; /* Evita zoom no iOS */
                border-radius: 8px;
            }
            
            .exercicios-lista {
                max-height: 220px;
                padding: 10px;
                border-radius: 8px;
            }
            
            .exercicio-edit {
                padding: 6px;
                margin-bottom: 6px;
                gap: 6px;
                border-radius: 6px;
            }
            
            .exercicio-input {
                padding: 8px;
                font-size: 16px; /* Evita zoom no iOS */
                border-radius: 6px;
            }
            
            .btn-remove {
                width: 28px;
                height: 28px;
                font-size: 1em;
            }
            
            .btn-add {
                padding: 12px;
                font-size: 0.9em;
                margin-top: 6px;
                border-radius: 8px;
            }
            
            .form-actions {
                gap: 10px;
                margin-top: 16px;
            }
            
            .btn-salvar,
            .btn-cancelar {
                padding: 12px;
                font-size: 0.95em;
                border-radius: 8px;
            }
            
            .btn-fechar {
                padding: 12px 20px;
                font-size: 0.95em;
                border-radius: 8px;
            }
            
            .notification {
                top: 8px;
                right: 8px;
                left: 8px;
                padding: 12px 14px;
                font-size: 0.85em;
                border-radius: 10px;
            }
        }

        /* Otimiza√ß√£o espec√≠fica para modal no Poco X7 Pro */
        @media (min-width: 380px) and (max-width: 420px) and (min-height: 800px) {
            .modal-overlay {
                padding: 6px;
                padding-top: 12px;
            }
            
            .modal-content {
                padding: 14px;
                max-height: calc(100vh - 24px);
                border-radius: 10px;
            }
            
            .modal-header h2 {
                font-size: 1.2em;
                margin-bottom: 4px;
            }
            
            .modal-header p {
                font-size: 0.8em;
            }
            
            .exercicio-item {
                padding: 10px;
                margin-bottom: 8px;
            }
            
            .exercicio-nome {
                font-size: 0.85em;
                margin-bottom: 4px;
            }
            
            .exercicio-controls {
                gap: 4px;
            }
            
            .peso-input {
                width: 55px;
                padding: 6px 4px;
            }
            
            .series-input, .reps-input {
                width: 35px;
                padding: 6px 4px;
            }
            
            .exercicio-notas {
                height: 24px;
                padding: 4px;
                font-size: 13px;
            }
            
            .btn-timer {
                padding: 5px 6px;
                font-size: 0.8em;
            }
            
            .btn-concluir {
                padding: 6px 8px;
                font-size: 0.8em;
            }
            
            .timer-container {
                padding: 12px;
                min-width: 160px;
            }
            
            .timer-display {
                font-size: 2em;
                margin-bottom: 10px;
            }
            
            .notification {
                top: 6px;
                right: 6px;
                left: 6px;
                padding: 10px 12px;
                font-size: 0.8em;
            }
        }

        /* Otimiza√ß√£o para telas pequenas (at√© 360px) */
        @media (max-width: 360px) {
            body {
                padding: 3px;
            }
            
            .header {
                padding: 8px 12px;
                margin-bottom: 8px;
            }
            
            .header h1 { 
                font-size: 1.6em; 
                margin-bottom: 3px;
            }
            
            .header p {
                font-size: 0.75em;
            }
            
            .btn-config {
                width: 32px;
                height: 32px;
                top: 8px;
                right: 8px;
                font-size: 1em;
            }
            
            .tipo-selector {
                gap: 3px;
                margin-bottom: 8px;
                padding: 0 3px 4px 3px;
            }
            
            .tipo-btn { 
                padding: 8px 10px; 
                font-size: 0.75em;
                min-width: 100px;
                border-radius: 16px;
            }
            
            .btn-edit-tipo {
                width: 14px;
                height: 14px;
                font-size: 0.45em;
                top: -2px;
                right: -2px;
            }
            
            .treinos-grid {
                gap: 8px;
                padding: 0 3px;
            }
            
            .treino-card {
                padding: 12px;
                border-radius: 8px;
            }
            
            .treino-letra {
                width: 36px;
                height: 36px;
                font-size: 0.9em;
                margin-right: 8px;
            }
            
            .treino-info h3 {
                font-size: 0.95em;
            }
            
            .treino-info p {
                font-size: 0.7em;
            }
            
            .btn-iniciar {
                padding: 10px;
                font-size: 0.8em;
            }
            
            .btn-edit {
                padding: 10px 12px;
                font-size: 0.85em;
            }
        }

        /* Suporte espec√≠fico para Poco X7 Pro em modo paisagem */
        @media (min-width: 800px) and (max-width: 900px) and (max-height: 420px) and (orientation: landscape) {
            body {
                padding: 4px;
            }
            
            .header {
                padding: 8px 16px;
                margin-bottom: 8px;
            }
            
            .header h1 {
                font-size: 1.5em;
                margin-bottom: 2px;
            }
            
            .header p {
                font-size: 0.75em;
            }
            
            .tipo-selector {
                margin-bottom: 8px;
                gap: 4px;
            }
            
            .tipo-btn {
                padding: 6px 12px;
                font-size: 0.8em;
            }
            
            .treinos-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 8px;
            }
            
            .treino-card {
                padding: 12px;
            }
            
            .treino-letra {
                width: 35px;
                height: 35px;
                font-size: 0.9em;
            }
            
            .modal-content {
                max-height: calc(100vh - 20px);
                padding: 12px;
            }
            
            .exercicio-item {
                padding: 8px;
                margin-bottom: 6px;
            }
            
            .exercicio-controls {
                gap: 4px;
            }
        }

        /* Melhorias para intera√ß√£o touch - Poco X7 Pro otimizado */
        @media (hover: none) and (pointer: coarse) {
            .tipo-btn,
            .btn-iniciar,
            .btn-edit,
            .btn-concluir,
            .btn-salvar,
            .btn-cancelar,
            .btn-fechar {
                min-height: 44px; /* √Årea m√≠nima recomendada para touch */
                -webkit-tap-highlight-color: rgba(255, 255, 255, 0.1);
                touch-action: manipulation;
            }
            
            .btn-remove {
                min-width: 44px;
                min-height: 44px;
            }
            
            .peso-input, .series-input, .reps-input {
                min-height: 44px;
                -webkit-appearance: none;
                -moz-appearance: textfield;
                appearance: none;
            }
            
            .exercicio-notas {
                min-height: 44px;
                resize: none;
            }
            
            .btn-timer {
                min-height: 40px;
                min-width: 40px;
            }
            
            .btn-edit-tipo {
                min-width: 32px;
                min-height: 32px;
            }
            
            .btn-config {
                min-width: 44px;
                min-height: 44px;
            }
            
            /* Remover spinners dos inputs number */
            .peso-input::-webkit-outer-spin-button,
            .peso-input::-webkit-inner-spin-button,
            .series-input::-webkit-outer-spin-button,
            .series-input::-webkit-inner-spin-button,
            .reps-input::-webkit-outer-spin-button,
            .reps-input::-webkit-inner-spin-button {
                -webkit-appearance: none;
                appearance: none;
                margin: 0;
            }
            
            /* Melhor feedback visual para touch */
            .tipo-btn:active,
            .btn-iniciar:active,
            .btn-edit:active,
            .btn-concluir:active,
            .btn-timer:active {
                transform: scale(0.95);
                transition: transform 0.1s ease;
            }
            
            /* Scrolling suave para listas */
            .tipo-selector,
            .exercicios-lista,
            .modal-content {
                -webkit-overflow-scrolling: touch;
                scroll-behavior: smooth;
            }
            
            /* Otimiza√ß√£o de performance para anima√ß√µes */
            .treino-card,
            .exercicio-item,
            .tipo-btn,
            .modal-content {
                will-change: transform;
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
            }
        }

        /* Viewport espec√≠fico para Poco X7 Pro */
        @media screen and (device-width: 393px) and (device-height: 851px) and (-webkit-device-pixel-ratio: 2.75) {
            /* Meta viewport j√° est√° otimizado no HTML */
            html {
                -webkit-text-size-adjust: 100%;
                -ms-text-size-adjust: 100%;
                text-size-adjust: 100%;
            }
            
            body {
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
                text-rendering: optimizeLegibility;
            }
            
            /* Otimiza√ß√£o para tela AMOLED */
            .header,
            .treino-card,
            .modal-content,
            .timer-container {
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üí™ Treinos Marcelo</h1>
        <p>Controle completo de treinos com peso e edi√ß√£o personalizada</p>
        <button class="btn-config" onclick="abrirConfiguracoes()" title="Configura√ß√µes">‚öôÔ∏è</button>
    </div>

    <div class="tipo-selector" id="tipoSelector">
        <!-- Bot√µes dos tipos ser√£o inseridos aqui -->
    </div>

    <div class="treinos-grid" id="treinosContainer">
        <!-- Cards dos treinos ser√£o inseridos aqui -->
    </div>

    <script>
        // Estado da aplica√ß√£o
        let tipoAtualIndex = 0;

        // Dados dos treinos - Array com 7 tipos
        const todosTipos = [
            // 0 - ABCD Cl√°ssico (5 treinos)
            {
                nome: 'ABCD Cl√°ssico',
                treinos: [
                    {
                        letra: 'A',
                        nome: 'Treino A - Peito e Tr√≠ceps',
                        descricao: '5 exerc√≠cios ‚Ä¢ For√ßa e volume',
                        classe: 'treino-a',
                        exercicios: ['Supino Reto', 'Supino Inclinado', 'Crucifixo', 'Tr√≠ceps Testa', 'Tr√≠ceps Pulley']
                    },
                    {
                        letra: 'B',
                        nome: 'Treino B - Costas e B√≠ceps',
                        descricao: '5 exerc√≠cios ‚Ä¢ Puxadas e rosca',
                        classe: 'treino-b',
                        exercicios: ['Puxada Frontal', 'Remada Curvada', 'Pullover', 'Rosca Direta', 'Rosca Martelo']
                    },
                    {
                        letra: 'C',
                        nome: 'Treino C - Pernas',
                        descricao: '6 exerc√≠cios ‚Ä¢ Membros inferiores',
                        classe: 'treino-c',
                        exercicios: ['Agachamento Livre', 'Leg Press', 'Stiff', 'Extensora', 'Flexora', 'Panturrilha']
                    },
                    {
                        letra: 'D',
                        nome: 'Treino D - Ombros e Abs',
                        descricao: '5 exerc√≠cios ‚Ä¢ Delts e core',
                        classe: 'treino-d',
                        exercicios: ['Desenvolvimento', 'Eleva√ß√£o Lateral', 'Eleva√ß√£o Posterior', 'Encolhimento', 'Abdominal']
                    },
                    {
                        letra: 'E',
                        nome: 'Treino E - Cardio e Funcional',
                        descricao: '5 exerc√≠cios ‚Ä¢ Condicionamento',
                        classe: 'treino-e',
                        exercicios: ['Esteira', 'Bike Ergom√©trica', 'El√≠ptico', 'Corda Naval', 'Burpees']
                    }
                ]
            },
            // 1 - Adapta√ß√£o Muscular (2 treinos)
            {
                nome: 'Adapta√ß√£o Muscular',
                treinos: [
                    {
                        letra: 'A',
                        nome: 'Adapta√ß√£o A - Full Body',
                        descricao: '4 exerc√≠cios ‚Ä¢ Corpo todo',
                        classe: 'treino-a',
                        exercicios: ['Agachamento', 'Flex√£o', 'Remada', 'Prancha']
                    },
                    {
                        letra: 'B',
                        nome: 'Adapta√ß√£o B - Resist√™ncia',
                        descricao: '4 exerc√≠cios ‚Ä¢ Condicionamento',
                        classe: 'treino-b',
                        exercicios: ['Leg Press', 'Puxada', 'Desenvolvimento', 'Bicicleta']
                    }
                ]
            },
            // 2 - AB 2x Semana (2 treinos)
            {
                nome: 'AB 2x Semana',
                treinos: [
                    {
                        letra: 'A',
                        nome: 'Treino A - Superior',
                        descricao: '6 exerc√≠cios ‚Ä¢ Membros superiores',
                        classe: 'treino-a',
                        exercicios: ['Supino Reto', 'Puxada Frontal', 'Desenvolvimento', 'Rosca Direta', 'Tr√≠ceps Testa', 'Eleva√ß√£o Lateral']
                    },
                    {
                        letra: 'B',
                        nome: 'Treino B - Inferior',
                        descricao: '5 exerc√≠cios ‚Ä¢ Membros inferiores',
                        classe: 'treino-b',
                        exercicios: ['Agachamento', 'Stiff', 'Leg Press', 'Extensora', 'Panturrilha']
                    }
                ]
            },
            // 3 - ABCD Avan√ßado (4 treinos)
            {
                nome: 'ABCD Avan√ßado',
                treinos: [
                    {
                        letra: 'A',
                        nome: 'Treino A - Peito/Tr√≠ceps Power',
                        descricao: '6 exerc√≠cios ‚Ä¢ Alta intensidade',
                        classe: 'treino-a',
                        exercicios: ['Supino Reto', 'Supino Inclinado', 'Crucifixo Inclinado', 'Paralelas', 'Tr√≠ceps Testa', 'Tr√≠ceps Corda']
                    },
                    {
                        letra: 'B',
                        nome: 'Treino B - Costas/B√≠ceps Power',
                        descricao: '6 exerc√≠cios ‚Ä¢ For√ßa m√°xima',
                        classe: 'treino-b',
                        exercicios: ['Barra Fixa', 'Remada Curvada', 'Puxada Frontal', 'Remada Unilateral', 'Rosca Direta', 'Rosca 21']
                    },
                    {
                        letra: 'C',
                        nome: 'Treino C - Pernas Power',
                        descricao: '7 exerc√≠cios ‚Ä¢ For√ßa e massa',
                        classe: 'treino-c',
                        exercicios: ['Agachamento Livre', 'Leg Press', 'Stiff', 'Afundo', 'Extensora', 'Flexora', 'Panturrilha']
                    },
                    {
                        letra: 'D',
                        nome: 'Treino D - Ombros/Core Power',
                        descricao: '6 exerc√≠cios ‚Ä¢ Delts e abdomen',
                        classe: 'treino-d',
                        exercicios: ['Desenvolvimento', 'Eleva√ß√£o Lateral', 'Eleva√ß√£o Frontal', 'Eleva√ß√£o Posterior', 'Encolhimento', 'Prancha']
                    }
                ]
            },
            // 4 - ABC do Zanca (3 treinos)
            {
                nome: 'ABC do Zanca',
                treinos: [
                    {
                        letra: 'A',
                        nome: 'Treino A - Push (Empurrar)',
                        descricao: '5 exerc√≠cios ‚Ä¢ Peito/ombros/tr√≠ceps',
                        classe: 'treino-a',
                        exercicios: ['Supino Reto', 'Desenvolvimento', 'Supino Inclinado', 'Eleva√ß√£o Lateral', 'Tr√≠ceps Pulley']
                    },
                    {
                        letra: 'B',
                        nome: 'Treino B - Pull (Puxar)',
                        descricao: '5 exerc√≠cios ‚Ä¢ Costas/b√≠ceps',
                        classe: 'treino-b',
                        exercicios: ['Puxada Frontal', 'Remada Curvada', 'Remada Cavalinho', 'Rosca Direta', 'Rosca Martelo']
                    },
                    {
                        letra: 'C',
                        nome: 'Treino C - Legs (Pernas)',
                        descricao: '5 exerc√≠cios ‚Ä¢ Membros inferiores',
                        classe: 'treino-c',
                        exercicios: ['Agachamento', 'Leg Press', 'Stiff', 'Extensora', 'Panturrilha']
                    }
                ]
            },
            // 5 - ABC Cl√°ssico (3 treinos)
            {
                nome: 'ABC Cl√°ssico',
                treinos: [
                    {
                        letra: 'A',
                        nome: 'Treino A - Peito e Tr√≠ceps',
                        descricao: '4 exerc√≠cios ‚Ä¢ Empurrar',
                        classe: 'treino-a',
                        exercicios: ['Supino Reto', 'Supino Inclinado', 'Tr√≠ceps Testa', 'Tr√≠ceps Pulley']
                    },
                    {
                        letra: 'B',
                        nome: 'Treino B - Costas e B√≠ceps',
                        descricao: '4 exerc√≠cios ‚Ä¢ Puxar',
                        classe: 'treino-b',
                        exercicios: ['Puxada Frontal', 'Remada Curvada', 'Rosca Direta', 'Rosca Martelo']
                    },
                    {
                        letra: 'C',
                        nome: 'Treino C - Pernas e Ombros',
                        descricao: '4 exerc√≠cios ‚Ä¢ Inferior e delts',
                        classe: 'treino-c',
                        exercicios: ['Agachamento', 'Stiff', 'Desenvolvimento', 'Eleva√ß√£o Lateral']
                    }
                ]
            },
            // 6 - ABDCE (5 treinos)
            {
                nome: 'ABDCE',
                treinos: [
                    {
                        letra: 'A',
                        nome: 'Treino A - Peito e Tr√≠ceps',
                        descricao: '6 exerc√≠cios ‚Ä¢ Empurrar',
                        classe: 'treino-a',
                        exercicios: ['Panturrilha em p√© na m√°quina ou smith com step', 'Panturrilha sentada', 'Supino inclinado smith ou m√°quina', 'Supino reto halteres', 'Supino inclinado com halteres combinado com crucifixo inclinado com halteres', 'Supino declinado']
                    },
                    {
                        letra: 'B',
                        nome: 'Treino B - Costas e B√≠ceps',
                        descricao: '5 exerc√≠cios ‚Ä¢ Puxar',
                        classe: 'treino-b',
                        exercicios: ['Abdominal supra na prancha', 'Abdominal infra na torre', 'Remada curvada pronada', 'Remada baixa pegada aberta', 'Serrote']
                    },
                    {
                        letra: 'C',
                        nome: 'Treino C - Pernas',
                        descricao: '5 exerc√≠cios ‚Ä¢ Membros inferiores',
                        classe: 'treino-c',
                        exercicios: ['Agachamento Livre', 'Leg 45¬∫', 'Cadeira Extensora', 'Flexor deitado', 'Flexor sentado']
                    },
                    {
                        letra: 'D',
                        nome: 'Treino D - Ombros',
                        descricao: '5 exerc√≠cios ‚Ä¢ Deltoides',
                        classe: 'treino-d',
                        exercicios: ['Panturrilha em p√© na m√°quina ou smith com step', 'Panturrilha sentada', 'Desenvolvimento sentado com halteres', 'Eleva√ß√£o frontal corda', 'Eleva√ß√£o lateral']
                    },
                    {
                        letra: 'E',
                        nome: 'Treino E - Bra√ßos',
                        descricao: '6 exerc√≠cios ‚Ä¢ B√≠ceps e tr√≠ceps',
                        classe: 'treino-e',
                        exercicios: ['Abdominal supra na prancha', 'Abdominal infra na torre', 'Rosca direta barra em p√©', 'Rosca scott na m√°quina ou no cross 21', 'Rosca direta com halteres sentado na gravs', 'Rosca direta corda']
                    }
                ]
            }
        ];

        // Inicializar app
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üí™ Inicializando Treinos Marcelo com 7 tipos...');
            
            // Carregar treinos salvos do localStorage
            const treinosSalvos = localStorage.getItem('marceloTreinos');
            if (treinosSalvos) {
                try {
                    const treinosCarregados = JSON.parse(treinosSalvos);
                    if (Array.isArray(treinosCarregados) && treinosCarregados.length >= 6) {
                        // Substituir apenas se tiver 6 ou mais tipos v√°lidos
                        treinosCarregados.forEach((tipo, index) => {
                            if (tipo && tipo.treinos && Array.isArray(tipo.treinos) && index < todosTipos.length) {
                                todosTipos[index] = tipo;
                            }
                        });
                        console.log('‚úÖ Treinos personalizados carregados do localStorage');
                    }
                } catch (error) {
                    console.log('‚ö†Ô∏è Erro ao carregar treinos salvos, usando padr√µes');
                }
            }
            
            carregarTreinos();
            console.log('‚úÖ App carregado!');
        });

        function carregarTreinos() {
            console.log('üîÑ Carregando treinos...');
            
            // Carregar seletor de tipos
            const tipoSelector = document.getElementById('tipoSelector');
            tipoSelector.innerHTML = '';
            
            todosTipos.forEach((tipo, index) => {
                const container = document.createElement('div');
                container.className = 'tipo-btn-container';
                
                const btn = document.createElement('button');
                btn.className = `tipo-btn ${index === tipoAtualIndex ? 'active' : ''}`;
                btn.textContent = tipo.nome;
                btn.onclick = () => selecionarTipo(index);
                
                const editBtn = document.createElement('button');
                editBtn.className = 'btn-edit-tipo';
                editBtn.innerHTML = '‚úèÔ∏è';
                editBtn.onclick = (e) => {
                    e.stopPropagation();
                    editarNomeTipo(index);
                };
                editBtn.title = 'Editar nome do tipo';
                
                container.appendChild(btn);
                container.appendChild(editBtn);
                tipoSelector.appendChild(container);
            });
            
            // Carregar treinos do tipo atual
            carregarTreinosTipo(tipoAtualIndex);
        }

        function selecionarTipo(index) {
            console.log(`üéØ Selecionando tipo: ${todosTipos[index].nome}`);
            tipoAtualIndex = index;
            
            // Atualizar bot√µes
            document.querySelectorAll('.tipo-btn').forEach((btn, i) => {
                btn.classList.toggle('active', i === index);
            });
            
            // Carregar treinos
            carregarTreinosTipo(index);
        }

        function carregarTreinosTipo(tipoIndex) {
            const container = document.getElementById('treinosContainer');
            const tipo = todosTipos[tipoIndex];
            
            console.log(`üìã Carregando ${tipo.treinos.length} treinos do tipo: ${tipo.nome}`);
            
            container.innerHTML = '';
            
            tipo.treinos.forEach((treino, index) => {
                const card = document.createElement('div');
                card.className = `treino-card ${treino.classe}`;
                
                card.innerHTML = `
                    <div class="treino-header">
                        <div class="treino-letra">${treino.letra}</div>
                        <div class="treino-info">
                            <h3>${treino.nome}</h3>
                            <p>${treino.descricao}</p>
                        </div>
                    </div>
                    <div class="treino-actions">
                        <button class="btn-iniciar" onclick="iniciarTreino(${index})">
                            üöÄ Iniciar Treino
                        </button>
                        <button class="btn-edit" onclick="editarTreino(${index})" title="Editar treino">
                            ‚úèÔ∏è
                        </button>
                    </div>
                `;
                
                container.appendChild(card);
            });
            
            console.log(`‚úÖ ${tipo.treinos.length} treinos carregados!`);
        }

        function iniciarTreino(index) {
            const treino = todosTipos[tipoAtualIndex].treinos[index];
            console.log(`üöÄ Iniciando treino: ${treino.nome}`);
            
            // Criar modal
            const modal = document.createElement('div');
            modal.className = 'modal-overlay';
            
            let exerciciosHtml = '';
            treino.exercicios.forEach((exercicio, i) => {
                // Carregar dados salvos
                const pesoKey = `peso_${tipoAtualIndex}_${index}_${i}`;
                const seriesKey = `series_${tipoAtualIndex}_${index}_${i}`;
                const repsKey = `reps_${tipoAtualIndex}_${index}_${i}`;
                const notasKey = `notas_${tipoAtualIndex}_${index}_${i}`;
                const concluidoKey = `concluido_${tipoAtualIndex}_${index}_${i}`;
                
                const pesoSalvo = localStorage.getItem(pesoKey) || '';
                const seriesSalvas = localStorage.getItem(seriesKey) || '';
                const repsSalvas = localStorage.getItem(repsKey) || '';
                const notasSalvas = localStorage.getItem(notasKey) || '';
                const concluido = localStorage.getItem(concluidoKey) === 'true';
                
                exerciciosHtml += `
                    <div class="exercicio-item ${concluido ? 'concluido' : ''}" data-exercicio="${i}">
                        <div class="exercicio-info">
                            <div class="exercicio-nome">${exercicio}</div>
                            <textarea class="exercicio-notas" 
                                      placeholder="Anota√ß√µes (ex: aumentar peso...)"
                                      onchange="salvarNotas(${tipoAtualIndex}, ${index}, ${i}, this.value)">${notasSalvas}</textarea>
                        </div>
                        <div class="exercicio-controls">
                            <input type="number" 
                                   class="series-input" 
                                   placeholder="S√©ries" 
                                   value="${seriesSalvas}"
                                   onchange="salvarSeriesReps(${tipoAtualIndex}, ${index}, ${i}, this.value, document.querySelector('[data-exercicio=\\"${i}\\"] .reps-input').value)">
                            <span style="color: #ccc; font-size: 0.8em;">x</span>
                            <input type="number" 
                                   class="reps-input" 
                                   placeholder="Reps" 
                                   value="${repsSalvas}"
                                   onchange="salvarSeriesReps(${tipoAtualIndex}, ${index}, ${i}, document.querySelector('[data-exercicio=\\"${i}\\"] .series-input').value, this.value)">
                            <input type="number" 
                                   class="peso-input" 
                                   placeholder="Peso" 
                                   value="${pesoSalvo}"
                                   onchange="salvarPeso(${tipoAtualIndex}, ${index}, ${i}, this.value)">
                            <span style="color: #ccc;">kg</span>
                            <button class="btn-concluir ${concluido ? 'concluido' : ''}" 
                                    onclick="toggleConcluido(${tipoAtualIndex}, ${index}, ${i}, this)">
                                ${concluido ? '‚úì Feito' : 'Concluir'}
                            </button>
                            <button class="btn-timer" onclick="iniciarTimer(90)" title="Timer 1:30min">‚è±Ô∏è</button>
                        </div>
                    </div>
                `;
            });
            
            modal.innerHTML = `
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>${treino.nome}</h2>
                        <p>${treino.descricao}</p>
                    </div>
                    <div class="exercicios-list">
                        ${exerciciosHtml}
                    </div>
                    <div class="modal-footer">
                        <button class="btn-fechar" onclick="fecharModal()">Fechar</button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
        }

        function salvarPeso(tipoIndex, treinoIndex, exercicioIndex, peso) {
            const key = `peso_${tipoIndex}_${treinoIndex}_${exercicioIndex}`;
            localStorage.setItem(key, peso);
            console.log(`üíæ Peso salvo: ${peso}kg para exerc√≠cio ${exercicioIndex}`);
        }

        function toggleConcluido(tipoIndex, treinoIndex, exercicioIndex, button) {
            const key = `concluido_${tipoIndex}_${treinoIndex}_${exercicioIndex}`;
            const exercicioItem = button.closest('.exercicio-item');
            const jaFeito = exercicioItem.classList.contains('concluido');
            
            if (jaFeito) {
                // Desfazer
                exercicioItem.classList.remove('concluido');
                button.classList.remove('concluido');
                button.textContent = 'Concluir';
                localStorage.removeItem(key);
                mostrarNotificacao('‚Ü©Ô∏è Exerc√≠cio desmarcado');
            } else {
                // Marcar como feito
                exercicioItem.classList.add('concluido');
                button.classList.add('concluido');
                button.textContent = '‚úì Feito';
                localStorage.setItem(key, 'true');
                mostrarNotificacao('‚úÖ Exerc√≠cio conclu√≠do!');
                
                // Verificar se treino foi conclu√≠do e salvar no hist√≥rico
                setTimeout(() => {
                    const treino = todosTipos[tipoIndex].treinos[treinoIndex];
                    let exerciciosConcluidos = 0;
                    
                    treino.exercicios.forEach((_, i) => {
                        if (localStorage.getItem(`concluido_${tipoIndex}_${treinoIndex}_${i}`) === 'true') {
                            exerciciosConcluidos++;
                        }
                    });
                    
                    // Se mais de 50% dos exerc√≠cios foram conclu√≠dos, salvar no hist√≥rico
                    const percentualConcluido = (exerciciosConcluidos / treino.exercicios.length) * 100;
                    if (percentualConcluido >= 50) {
                        if (salvarTreinoNoHistorico(tipoIndex, treinoIndex)) {
                            console.log(`üìä Treino salvo no hist√≥rico: ${percentualConcluido.toFixed(0)}% conclu√≠do`);
                        }
                    }
                }, 100);
            }
            
            console.log(`${jaFeito ? '‚Ü©Ô∏è Desmarcado' : '‚úÖ Conclu√≠do'} exerc√≠cio ${exercicioIndex}`);
        }

        function editarTreino(index) {
            console.log(`‚úèÔ∏è Editando treino ${index}`);
            const treino = todosTipos[tipoAtualIndex].treinos[index];
            
            // Criar modal de edi√ß√£o
            const modal = document.createElement('div');
            modal.className = 'modal-overlay';
            
            let exerciciosHtml = '';
            treino.exercicios.forEach((exercicio, i) => {
                exerciciosHtml += `
                    <div class="exercicio-edit">
                        <button class="btn-remove" onclick="removerExercicio(${i})">√ó</button>
                        <input type="text" 
                               value="${exercicio}" 
                               class="exercicio-input"
                               data-index="${i}"
                               placeholder="Nome do exerc√≠cio">
                    </div>
                `;
            });
            
            modal.innerHTML = `
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>‚úèÔ∏è Editar Treino</h2>
                        <p>Personalize seu treino como desejar</p>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-nome">Nome do Treino:</label>
                        <input type="text" id="edit-nome" value="${treino.nome}" placeholder="Ex: Treino A - Peito">
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-descricao">Descri√ß√£o:</label>
                        <input type="text" id="edit-descricao" value="${treino.descricao}" placeholder="Ex: 5 exerc√≠cios ‚Ä¢ For√ßa">
                    </div>
                    
                    <div class="form-group">
                        <label>Exerc√≠cios:</label>
                        <div class="exercicios-lista" id="exercicios-lista">
                            ${exerciciosHtml}
                            <button class="btn-add" onclick="adicionarExercicio()">‚ûï Adicionar Exerc√≠cio</button>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button class="btn-salvar" onclick="salvarEdicaoTreino(${index})">üíæ Salvar</button>
                        <button class="btn-cancelar" onclick="fecharModal()">‚ùå Cancelar</button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
        }

        function removerExercicio(exercicioIndex) {
            const exerciciosLista = document.getElementById('exercicios-lista');
            const exercicios = exerciciosLista.querySelectorAll('.exercicio-edit');
            
            if (exercicios.length > 1) {
                exercicios[exercicioIndex].remove();
                
                // Reindexar os exerc√≠cios restantes
                const exerciciosRestantes = exerciciosLista.querySelectorAll('.exercicio-edit');
                exerciciosRestantes.forEach((ex, i) => {
                    const input = ex.querySelector('.exercicio-input');
                    input.setAttribute('data-index', i);
                    const btnRemove = ex.querySelector('.btn-remove');
                    btnRemove.setAttribute('onclick', `removerExercicio(${i})`);
                });
                
                mostrarNotificacao('üóëÔ∏è Exerc√≠cio removido!', 'warning');
            } else {
                mostrarNotificacao('‚ö†Ô∏è N√£o √© poss√≠vel remover o √∫ltimo exerc√≠cio!', 'warning');
            }
        }

        function adicionarExercicio() {
            const exerciciosLista = document.getElementById('exercicios-lista');
            const exercicios = exerciciosLista.querySelectorAll('.exercicio-edit');
            const novoIndex = exercicios.length;
            
            const novoExercicio = document.createElement('div');
            novoExercicio.className = 'exercicio-edit';
            novoExercicio.innerHTML = `
                <button class="btn-remove" onclick="removerExercicio(${novoIndex})">√ó</button>
                <input type="text" 
                       value="Novo Exerc√≠cio" 
                       class="exercicio-input"
                       data-index="${novoIndex}"
                       placeholder="Nome do exerc√≠cio">
            `;
            
            // Inserir antes do bot√£o "Adicionar"
            const btnAdd = exerciciosLista.querySelector('.btn-add');
            exerciciosLista.insertBefore(novoExercicio, btnAdd);
            
            // Focar no novo input
            const novoInput = novoExercicio.querySelector('.exercicio-input');
            novoInput.focus();
            novoInput.select();
            
            mostrarNotificacao('‚ûï Novo exerc√≠cio adicionado!');
        }

        function salvarEdicaoTreino(index) {
            const novoNome = document.getElementById('edit-nome').value.trim();
            const novaDescricao = document.getElementById('edit-descricao').value.trim();
            
            if (!novoNome) {
                mostrarNotificacao('‚ö†Ô∏è Nome do treino √© obrigat√≥rio!', 'warning');
                return;
            }
            
            // Coletar exerc√≠cios
            const inputs = document.querySelectorAll('.exercicio-input');
            const novosExercicios = [];
            
            inputs.forEach(input => {
                const valor = input.value.trim();
                if (valor) {
                    novosExercicios.push(valor);
                }
            });
            
            if (novosExercicios.length === 0) {
                mostrarNotificacao('‚ö†Ô∏è Pelo menos um exerc√≠cio √© obrigat√≥rio!', 'warning');
                return;
            }
            
            // Atualizar treino
            todosTipos[tipoAtualIndex].treinos[index].nome = novoNome;
            todosTipos[tipoAtualIndex].treinos[index].descricao = novaDescricao;
            todosTipos[tipoAtualIndex].treinos[index].exercicios = novosExercicios;
            
            // Salvar no localStorage
            localStorage.setItem('marceloTreinos', JSON.stringify(todosTipos));
            
            fecharModal();
            carregarTreinos();
            mostrarNotificacao('üíæ Treino salvo com sucesso!');
            
            console.log('üíæ Treino editado e salvo:', {
                nome: novoNome,
                descricao: novaDescricao,
                exercicios: novosExercicios
            });
        }

        function fecharModal() {
            const modals = document.querySelectorAll('.modal-overlay');
            modals.forEach(modal => {
                if (document.body.contains(modal)) {
                    document.body.removeChild(modal);
                }
            });
        }

        function mostrarNotificacao(mensagem, tipo = 'success') {
            const notificacao = document.createElement('div');
            notificacao.className = `notification ${tipo}`;
            notificacao.textContent = mensagem;
            
            document.body.appendChild(notificacao);
            
            setTimeout(() => {
                if (document.body.contains(notificacao)) {
                    document.body.removeChild(notificacao);
                }
            }, 3000);
        }

        // Nova funcionalidade: Editar nome do tipo de treino
        function editarNomeTipo(index) {
            const tipo = todosTipos[index];
            const novoNome = prompt('üìù Digite o novo nome para este tipo de treino:', tipo.nome);
            
            if (novoNome && novoNome.trim() !== '' && novoNome.trim() !== tipo.nome) {
                todosTipos[index].nome = novoNome.trim();
                localStorage.setItem('marceloTreinos', JSON.stringify(todosTipos));
                carregarTreinos();
                mostrarNotificacao(`‚úÖ Nome alterado para: ${novoNome}`);
                console.log(`‚úèÔ∏è Tipo ${index} renomeado para: ${novoNome}`);
            }
        }

        // Nova funcionalidade: Timer para descanso
        let timerAtivo = null;
        let timerInterval = null;

        function iniciarTimer(segundos = 90) {
            if (timerAtivo) {
                clearInterval(timerInterval);
            }

            // Criar overlay do timer
            const timerOverlay = document.createElement('div');
            timerOverlay.className = 'modal-overlay';
            timerOverlay.id = 'timer-overlay';
            
            timerOverlay.innerHTML = `
                <div class="timer-container">
                    <h3>‚è±Ô∏è Tempo de Descanso</h3>
                    <div class="timer-display" id="timer-display">${formatarTempo(segundos)}</div>
                    <div class="timer-controls">
                        <button class="btn-timer" onclick="adicionarTempo(-30)">-30s</button>
                        <button class="btn-timer" onclick="adicionarTempo(30)">+30s</button>
                        <button class="btn-timer danger" onclick="pararTimer()">Parar</button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(timerOverlay);
            
            let tempoRestante = segundos;
            const display = document.getElementById('timer-display');
            
            timerInterval = setInterval(() => {
                tempoRestante--;
                display.textContent = formatarTempo(tempoRestante);
                
                if (tempoRestante <= 0) {
                    clearInterval(timerInterval);
                    mostrarNotificacao('‚è∞ Tempo de descanso acabou!');
                    pararTimer();
                    
                    // Som de notifica√ß√£o (se suportado)
                    try {
                        const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmEaBjiA0vTOeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmEaBjiA0vTOeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmEaBjiA0vTOeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmEaBjiA0vTOeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmEaBjiA0vTOeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmEaBg==');
                        audio.play();
                    } catch (e) {
                        // Falback: vibra√ß√£o se dispon√≠vel
                        if (navigator.vibrate) {
                            navigator.vibrate([200, 100, 200, 100, 200]);
                        }
                    }
                }
            }, 1000);
            
            timerAtivo = true;
        }

        function formatarTempo(segundos) {
            const mins = Math.floor(segundos / 60);
            const secs = segundos % 60;
            return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }

        function adicionarTempo(segundos) {
            const display = document.getElementById('timer-display');
            if (display) {
                const tempoAtual = display.textContent.split(':');
                const minutos = parseInt(tempoAtual[0]);
                const segundosAtual = parseInt(tempoAtual[1]);
                const novoTempo = Math.max(0, (minutos * 60 + segundosAtual) + segundos);
                display.textContent = formatarTempo(novoTempo);
            }
        }

        function pararTimer() {
            if (timerInterval) {
                clearInterval(timerInterval);
            }
            const overlay = document.getElementById('timer-overlay');
            if (overlay) {
                document.body.removeChild(overlay);
            }
            timerAtivo = false;
        }

        // Nova funcionalidade: Configura√ß√µes
        function abrirConfiguracoes() {
            const modal = document.createElement('div');
            modal.className = 'modal-overlay';
            
            modal.innerHTML = `
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>‚öôÔ∏è Configura√ß√µes</h2>
                        <p>Personaliza√ß√£o e backup dos dados</p>
                    </div>
                    
                    <div class="form-group">
                        <label>üéØ Tempo padr√£o de descanso:</label>
                        <select id="tempo-descanso" style="width: 100%; padding: 12px; border: none; border-radius: 8px; background: rgba(255, 255, 255, 0.1); color: white;">
                            <option value="60">1 minuto</option>
                            <option value="90" selected>1:30 minutos</option>
                            <option value="120">2 minutos</option>
                            <option value="180">3 minutos</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>üíæ Backup dos dados:</label>
                        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                            <button class="btn-salvar" onclick="exportarDados()" style="flex: 1;">üì§ Exportar</button>
                            <button class="btn-cancelar" onclick="importarDados()" style="flex: 1;">üì• Importar</button>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>ÔøΩ Hist√≥rico e progresso:</label>
                        <button class="btn-salvar" onclick="abrirHistorico()" style="width: 100%;">
                            üìà Ver Hist√≥rico de Treinos
                        </button>
                    </div>
                    
                    <div class="form-group">
                        <label>ÔøΩüóëÔ∏è Limpar dados:</label>
                        <button class="btn-cancelar" onclick="limparTodosDados()" style="width: 100%; background: rgba(244, 67, 54, 0.7);">
                            üóëÔ∏è Limpar Todos os Dados
                        </button>
                    </div>
                    
                    <div class="form-actions">
                        <button class="btn-fechar" onclick="fecharModal()">‚úÖ Fechar</button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
        }

        function exportarDados() {
            const dados = {
                treinos: todosTipos,
                versao: '2.0',
                data: new Date().toISOString()
            };
            
            const blob = new Blob([JSON.stringify(dados, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = `treinos-marcelo-backup-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            mostrarNotificacao('üì§ Backup exportado com sucesso!');
        }

        function importarDados() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            
            input.onchange = (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        try {
                            const dados = JSON.parse(e.target.result);
                            if (dados.treinos && Array.isArray(dados.treinos)) {
                                todosTipos.splice(0, todosTipos.length, ...dados.treinos);
                                localStorage.setItem('marceloTreinos', JSON.stringify(todosTipos));
                                carregarTreinos();
                                fecharModal();
                                mostrarNotificacao('üì• Dados importados com sucesso!');
                            } else {
                                mostrarNotificacao('‚ùå Arquivo inv√°lido!', 'warning');
                            }
                        } catch (error) {
                            mostrarNotificacao('‚ùå Erro ao ler arquivo!', 'warning');
                        }
                    };
                    reader.readAsText(file);
                }
            };
            
            input.click();
        }

        function limparTodosDados() {
            if (confirm('‚ö†Ô∏è Tem certeza que deseja limpar TODOS os dados? Esta a√ß√£o n√£o pode ser desfeita!')) {
                localStorage.clear();
                location.reload();
            }
        }

        // Sistema de hist√≥rico
        function salvarTreinoNoHistorico(tipoIndex, treinoIndex) {
            const treino = todosTipos[tipoIndex].treinos[treinoIndex];
            const historico = JSON.parse(localStorage.getItem('historicoTreinos') || '[]');
            
            const registroTreino = {
                data: new Date().toISOString(),
                tipoNome: todosTipos[tipoIndex].nome,
                treinoNome: treino.nome,
                tipoIndex: tipoIndex,
                treinoIndex: treinoIndex,
                exercicios: []
            };
            
            // Coletar dados dos exerc√≠cios
            treino.exercicios.forEach((exercicio, i) => {
                const peso = localStorage.getItem(`peso_${tipoIndex}_${treinoIndex}_${i}`) || '';
                const series = localStorage.getItem(`series_${tipoIndex}_${treinoIndex}_${i}`) || '';
                const reps = localStorage.getItem(`reps_${tipoIndex}_${treinoIndex}_${i}`) || '';
                const concluido = localStorage.getItem(`concluido_${tipoIndex}_${treinoIndex}_${i}`) === 'true';
                
                if (concluido) {
                    registroTreino.exercicios.push({
                        nome: exercicio,
                        peso: peso,
                        series: series,
                        reps: reps
                    });
                }
            });
            
            // S√≥ salva se pelo menos um exerc√≠cio foi conclu√≠do
            if (registroTreino.exercicios.length > 0) {
                historico.unshift(registroTreino); // Adiciona no in√≠cio
                
                // Manter apenas √∫ltimos 50 registros
                if (historico.length > 50) {
                    historico.splice(50);
                }
                
                localStorage.setItem('historicoTreinos', JSON.stringify(historico));
                return true;
            }
            return false;
        }

        function abrirHistorico() {
            const historico = JSON.parse(localStorage.getItem('historicoTreinos') || '[]');
            
            let historicoHtml = '';
            if (historico.length === 0) {
                historicoHtml = '<p style="text-align: center; color: #ccc; padding: 20px;">üì≠ Nenhum treino conclu√≠do ainda</p>';
            } else {
                historico.forEach((registro, index) => {
                    const data = new Date(registro.data);
                    const dataFormatada = data.toLocaleDateString('pt-BR');
                    const horaFormatada = data.toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' });
                    
                    let exerciciosHtml = '';
                    registro.exercicios.forEach(ex => {
                        exerciciosHtml += `
                            <div style="background: rgba(255,255,255,0.05); padding: 8px; margin: 4px 0; border-radius: 5px; font-size: 0.9em;">
                                <strong>${ex.nome}</strong><br>
                                ${ex.series ? `${ex.series} s√©ries` : ''} 
                                ${ex.reps ? `√ó ${ex.reps} reps` : ''} 
                                ${ex.peso ? `√ó ${ex.peso}kg` : ''}
                            </div>
                        `;
                    });
                    
                    historicoHtml += `
                        <div style="background: rgba(255,255,255,0.1); border-radius: 10px; padding: 15px; margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                                <h4 style="margin: 0;">${registro.treinoNome}</h4>
                                <small style="color: #ccc;">${dataFormatada} ${horaFormatada}</small>
                            </div>
                            <p style="color: #ffd93d; margin: 5px 0; font-size: 0.9em;">${registro.tipoNome}</p>
                            <div style="max-height: 150px; overflow-y: auto;">
                                ${exerciciosHtml}
                            </div>
                        </div>
                    `;
                });
            }
            
            const modal = document.createElement('div');
            modal.className = 'modal-overlay';
            
            modal.innerHTML = `
                <div class="modal-content" style="max-width: 600px;">
                    <div class="modal-header">
                        <h2>üìà Hist√≥rico de Treinos</h2>
                        <p>Seus √∫ltimos treinos conclu√≠dos</p>
                    </div>
                    
                    <div style="max-height: 400px; overflow-y: auto; padding: 10px 0;">
                        ${historicoHtml}
                    </div>
                    
                    <div class="form-actions">
                        <button class="btn-cancelar" onclick="limparHistorico()" style="background: rgba(244, 67, 54, 0.7);">
                            üóëÔ∏è Limpar Hist√≥rico
                        </button>
                        <button class="btn-fechar" onclick="fecharModal()">‚úÖ Fechar</button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
        }

        function limparHistorico() {
            if (confirm('‚ö†Ô∏è Deseja limpar todo o hist√≥rico de treinos?')) {
                localStorage.removeItem('historicoTreinos');
                fecharModal();
                mostrarNotificacao('üóëÔ∏è Hist√≥rico limpo!');
            }
        }

        // Fun√ß√£o melhorada para salvar dados de s√©ries e repeti√ß√µes
        function salvarSeriesReps(tipoIndex, treinoIndex, exercicioIndex, series, reps) {
            const keyS = `series_${tipoIndex}_${treinoIndex}_${exercicioIndex}`;
            const keyR = `reps_${tipoIndex}_${treinoIndex}_${exercicioIndex}`;
            localStorage.setItem(keyS, series);
            localStorage.setItem(keyR, reps);
        }

        function salvarNotas(tipoIndex, treinoIndex, exercicioIndex, notas) {
            const key = `notas_${tipoIndex}_${treinoIndex}_${exercicioIndex}`;
            localStorage.setItem(key, notas);
        }

        // Debug
        console.log('üí™ Treinos Marcelo - 7 Tipos Completos!');
        console.log('üìä Tipos dispon√≠veis:', todosTipos.map(t => t.nome));
    </script>
<script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('./sw.js', { scope: './' })
            .catch(err => console.log('SW reg failed', err));
        });
      }
    </script>
</body>
</html>